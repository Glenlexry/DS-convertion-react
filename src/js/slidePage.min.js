(function(e){function n(e){return{"-webkit-transform":"translate3d(0px, "+e+" 0px)",transform:"translate3d(0px, "+e+", 0px)"}}function t(){g.refresh&&v&&g.useAnimation&&(e(g.pageContainer).eq(h).find(".animated").addClass("hide"),e(g.pageContainer).eq(h).find(".lazy").addClass("hide"))}function i(e){var n={};if(/\?/.test(e)){for(var t=e.substring(e.indexOf("?")+1),i=t.split("&"),a=0,o=i.length;a<o;a++){var r=i[a],s=r.split("=");n[s[0]]=s[1]}return n}}function a(n){P="next",n.next().length?(currentItem=n.next(),s(n.next(),P),C.nextSlide(n)):C.showSlide(n),keyindex=e(g.pageContainer).index(n),g.before(n.index()+1,P,n.index()+2),t()}function o(i){P="prev",i.prev().length?(currentItem=i.prev(),s(i.prev(),P),C.prevSlide(i),i.prev().prev().css(n("-100%"))):C.showSlide(i),g.before(i.index()+1,P,i.index()),keyindex=e(g.pageContainer).index(i),t()}function r(n){if(n.speed&&e(n.pageContainer).css({"transition-duration":n.speed+"ms","-webkit-transition-duration":n.speed+"ms"}),slidePage.index(n.index),n.useAnimation){var t=e(n.pageContainer);t.find(".animated").addClass("hide"),t.find(".lazy").addClass("hide"),s(t.eq(n.index-1))}}function s(n,t){f=!0,setTimeout(function(){v=t||v},g.speed||x);var i=e(n).find(".animated");i.each(function(n,t){var i=e(t).attr("data-delay")||100;setTimeout(function(){e(t).removeClass("hide")},i)})}function l(n){var t=e(g.pageContainer).eq(n-1),i=t.find(".lazy");i.each(function(n,t){var i=e(t).attr("data-delay")||100;setTimeout(function(){e(t).removeClass("hide")},i)})}function c(n,t){var t=0===t?0:1,i=e(".item").eq(n-1).children().height();if(i-w>20){var a="next"==P;a?e(g.pageContainer).eq(n-1).scrollTop(t):e(g.pageContainer).eq(n-1).scrollTop(i-w-t)}}function d(n){var t=e(".item").eq(n-1).children().height();t-w>20?e(g.pageContainer).eq(n-1).on("scroll",function(e){var n=t==this.scrollTop+w,i=0==this.scrollTop;slidePage.canSlide=n||i,slidePage.canPrev=i&&!n,slidePage.canNext=n&&!i,slidePage.isScroll=!slidePage.canSlide}):(slidePage.canPrev=!0,slidePage.canNext=!0,slidePage.canSlide=!0,slidePage.isScroll=!1)}function u(n){function t(e){var e=e||window.event;e.wheelDeltaY<0||e.wheelDelta<0||e.detail>0?slidePage.canNext&&v&&slidePage.next():(e.wheelDeltaY>0||e.wheelDelta>0||e.detail<0)&&slidePage.canPrev&&v&&slidePage.prev()}n.useWheel&&(document.onmousewheel=t,document.addEventListener&&document.addEventListener("DOMMouseScroll",t,!1)),n.useKeyboard&&(document.onkeydown=function(e){"40"==e.keyCode&&v&&h<m-1?slidePage.canNext&&slidePage.next():"38"==e.keyCode&&v&&h>0&&slidePage.canPrev&&slidePage.prev()});var i=0;document.getElementById("slidePage-container").addEventListener("touchstart",function(e){i=e.touches[0].clientY}),document.getElementById("slidePage-container").addEventListener("touchmove",function(e){var n=e.touches[0].clientY-i;!slidePage.canPrev&&n>5&&(slidePage.isScroll=!0),!slidePage.canNext&&n<-5&&(slidePage.isScroll=!0),!slidePage.isScroll&&e.preventDefault()}),e(n.pageContainer).on({swipeUp:function(){slidePage.canNext&&slidePage.next()},swipeDown:function(){slidePage.canPrev&&slidePage.prev()}}),e(n.pageContainer).on("transitionend webkitTransitionEnd",function(e){var t=T.split(",").length;f&&(t>1?n.after("next"==P?h+1:h+2,P,h+2):n.after("next"==P?h:h+2,P,h+1),f=!1)})}var p=location.search?i(location.search).page:1,g={index:p,pageContainer:".item",after:function(){},before:function(){},speed:!1,refresh:!1,useWheel:!0,useKeyboard:!0,useAnimation:!0},f=!0,v=!0,h=g.index-1,x=1e3*e(g.pageContainer).css("transition-duration").replace("s",""),m=e(g.pageContainer).length,w=window.innerHeight,P="",T="",y={};window.slidePage={init:function(n,t){e.extend(g,n),r(g),u(g),t&&t.call(this)},index:function(n){if(n>0&&n!=h+1){n=parseInt(n)-1;var t=e(".item").eq(n).children().height(),i=t-w>20?1:0;if(n>h)for(var r=h;r<n;r++)a(e(g.pageContainer).eq(r)),c(r+2,i),d(r+2);else if(n<h)for(var r=h;r>=n+1;r--)o(e(g.pageContainer).eq(r)),c(r,i),d(r);h=n}return h},next:function(){if(h<m-1){var n=e(g.pageContainer).eq(h++);a(n),c(n.index()+2),d(n.index()+2),v=!1}},prev:function(){if(h>0){var n=e(g.pageContainer).eq(h--);o(n),c(n.index()),d(n.index()),v=!1}},fire:function(e){l(e)},remove:function(n,t){T.match(n)||(m--,h>n&&h--,T=n+","+T,y[n]=e(g.pageContainer).eq(n-1).remove(),t&&t())},recover:function(n,t){T.match(n)&&(T=T.replace(n+",",""),n>=m?e(g.pageContainer).eq(m-1).after(y[n]):e(g.pageContainer).eq(n-1).before(y[n]),h>n&&h++,m++,"prev"==P?C.prevSlide(y[n]):C.prevSlide(y[n]),t&&t())},canNext:!0,canPrev:!0,isScroll:!1};var C={nextSlide:function(e){e.css({transform:"translate3d(0px, -100%, 0px)","-webkit-transform":"translate3d(0px,-100%, 0px)"});var t=n("0");e.next().css(t)},prevSlide:function(e){e.prev().css({"-webkit-transform":"scale(1)",transform:"scale(1)"}),e.css(n("100%"))},showSlide:function(e){e.css({"-webkit-transform":"scale(1)",transform:"scale(1)"}),e.next().css(n("100%"))}}})($),function(e){function n(e,n,t,i){return Math.abs(e-n)>=Math.abs(t-i)?e-n>0?"Left":"Right":t-i>0?"Up":"Down"}function t(){d=null,p.last&&(p.el.trigger("longTap"),p={})}function i(){d&&clearTimeout(d),d=null}function a(){s&&clearTimeout(s),l&&clearTimeout(l),c&&clearTimeout(c),d&&clearTimeout(d),s=l=c=d=null,p={}}function o(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function r(e,n){return e.type=="pointer"+n||e.type.toLowerCase()=="mspointer"+n}var s,l,c,d,u,p={},g=750;e(document).ready(function(){var f,v,h,x,m=0,w=0;"MSGesture"in window&&(u=new MSGesture,u.target=document.body),e(document).bind("MSGestureEnd",function(e){var n=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;n&&(p.el.trigger("swipe"),p.el.trigger("swipe"+n))}).on("touchstart MSPointerDown pointerdown",function(n){n.Touches=n.originalEvent?n.originalEvent.changedTouches:n.touches,(x=r(n,"down"))&&!o(n)||(h=x?n:n.Touches[0],n.Touches&&1===n.Touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),f=Date.now(),v=f-(p.last||f),p.el=e("tagName"in h.target?h.target:h.target.parentNode),s&&clearTimeout(s),p.x1=h.pageX,p.y1=h.pageY,v>0&&v<=250&&(p.isDoubleTap=!0),p.last=f,d=setTimeout(t,g),u&&x&&u.addPointer(n.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){e.Touches=e.originalEvent?e.originalEvent.changedTouches:e.touches,(x=r(e,"move"))&&!o(e)||(h=x?e:e.Touches[0],i(),p.x2=h.pageX,p.y2=h.pageY,m+=Math.abs(p.x1-p.x2),w+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(t){(x=r(t,"up"))&&!o(t)||(i(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?c=setTimeout(function(){p.el.trigger("swipe"),p.el.trigger("swipe"+n(p.x1,p.x2,p.y1,p.y2)),p={}},0):"last"in p&&(m<30&&w<30?l=setTimeout(function(){var n=e.Event("tap");n.cancelTouch=a,p.el.trigger(n),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):s=setTimeout(function(){s=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),m=w=0)}).on("touchcancel MSPointerCancel pointercancel",a),e(window).on("scroll",a)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(n){e.fn[n]=function(e){return this.on(n,e)}})}($);